<Window x:Class="DecisionTree.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:DecisionTree.ViewModels"
        xmlns:a="clr-namespace:Assisticant;assembly=Assisticant.XAML"
        Title="Decision Tree" Height="350" Width="525"
        DataContext="{Binding Main, Source={StaticResource Locator}}">
    <Window.Resources>
        <a:ViewSelector x:Key="ViewSelector"/>
        <HierarchicalDataTemplate DataType="{x:Type vm:NodeHeader}" ItemsSource="{Binding Children}">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Label}" FontWeight="Bold" Margin="0,0,5,0" />
                <TextBlock Text="{Binding ExpectedValue}" />
            </StackPanel>
        </HierarchicalDataTemplate>
        <Style TargetType="TreeViewItem">
            <Setter Property="IsExpanded" Value="True" />
        </Style>
    </Window.Resources>
    <Grid>
        <TreeView 
            ItemsSource="{Binding Nodes}" 
            ItemTemplateSelector="{DynamicResource ViewSelector}">
        </TreeView>
    </Grid>
</Window>
